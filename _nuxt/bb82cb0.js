(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2],{299:function(t,n,e){var content=e(305);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(54).default)("126a7dc1",content,!0,{sourceMap:!1})},300:function(t,n,e){t.exports=e.p+"img/location_detail_card_header_pattern.f22b070.png"},301:function(t,n,e){var content=e(302);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(54).default)("60428f3e",content,!0,{sourceMap:!1})},302:function(t,n,e){var o=e(53),r=e(142),c=e(303),l=o((function(i){return i[1]})),d=r(c);l.push([t.i,"/*purgecss start ignore*/\n\n.nuxt-content h2{\n  font-size:1.125rem;\n  line-height:1.75rem\n}\n\n.nuxt-content p{\n  margin-left:1rem;\n  margin-right:1rem\n}\n\n.nuxt-content hr{\n  display:block;\n  height:27px;\n  box-sizing:border-box;\n  border-image-source:url("+d+");\n  border-image-slice:27 27 0;\n  border-image-width:auto\n}\n\n/*purgecss end ignore*/",""]),l.locals={},t.exports=l},303:function(t,n,e){t.exports=e.p+"img/divider.f23ddfc.png"},304:function(t,n,e){"use strict";e(299)},305:function(t,n,e){var o=e(53)((function(i){return i[1]}));o.push([t.i,'/*purgecss start ignore*/\n#location-detail-card[data-v-41468c51]{\n  position:relative;\n  height:auto;\n  min-width:574px;\n  font-family:"HYWenHei",sans-serif;\n  color:#484139\n}\n#card-bg[data-v-41468c51]{\n  position:absolute;\n  z-index:5;\n  top:-3.75em\n}\n#location-detail-card-content-wrapper[data-v-41468c51]{\n  position:absolute;\n  right:0px;\n  z-index:10;\n  margin-top:0.25rem;\n  display:flex;\n  height:100%;\n  height:100%\n}\n#detail-header[data-v-41468c51]{\n  position:relative;\n  width:100%;\n  min-height:197px\n}\n#card-title[data-v-41468c51]{\n  position:absolute;\n  right:0px;\n  bottom:0px;\n  z-index:20;\n  font-size:3.75rem;\n  line-height:1;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  font-family:"HYWenHei",sans-serif\n}\n#location-detail-card-btn[data-v-41468c51]{\n  margin-top:1.5rem;\n  font-size:2.25rem;\n  line-height:2.5rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity))\n}\n#location-detail-card-btn>button[data-v-41468c51]{\n  padding-top:0.25rem;\n  padding-bottom:0.25rem;\n  padding-right:0.125rem;\n  padding-left:1rem;\n  background-color:#2e2e2e;\n  border:1px solid #948364;\n  border-right:0;\n  border-radius:20px 0 0 20px\n}\n#location-detail-card-content[data-v-41468c51]{\n  position:relative;\n  display:flex;\n  flex-direction:column;\n  align-items:center;\n  background-color:#2e2e2e;\n  border:1px solid #948364;\n  width:475px;\n  height:645px\n}\n#location-detail-card-content-info[data-v-41468c51]{\n  margin-top:0.5rem;\n  display:flex;\n  flex-direction:column;\n  border-top-left-radius:0.75rem;\n  border-top-right-radius:0.75rem;\n  padding:0.25rem;\n  width:97%;\n  background-color:#ede7de;\n  flex-grow:1\n}\n.content-block[data-v-41468c51]{\n  margin-top:0.25rem;\n  margin-bottom:0.25rem\n}\n#link-block[data-v-41468c51]{\n  display:flex;\n  flex-direction:column\n}\n.hide-card[data-v-41468c51]{\n  right:-39.75em\n}\n\n/*purgecss end ignore*/',""]),o.locals={},t.exports=o},306:function(t,n,e){var content=e(321);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(54).default)("633b87b9",content,!0,{sourceMap:!1})},308:function(t,n,e){"use strict";e.r(n);var o=e(1),r=(e(301),o.a.extend({props:["details"],data:function(){return{isDetailCardOpen:!0}},mounted:function(){},methods:{toggleLocationDetailCard:function(){this.isDetailCardOpen=!this.isDetailCardOpen}}})),c=(e(304),e(39)),component=Object(c.a)(r,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{class:{"hide-card":!t.isDetailCardOpen},attrs:{id:"location-detail-card"}},[o("div",{attrs:{id:"location-detail-card-content-wrapper"}},[o("div",{attrs:{id:"location-detail-card-btn"}},[o("button",{on:{click:function(n){return t.toggleLocationDetailCard()}}},[t.isDetailCardOpen?o("span",[t._v(">")]):o("span",[t._v("<")])])]),t._v(" "),o("div",{attrs:{id:"location-detail-card-content"}},[o("div",{attrs:{id:"detail-header"}},[o("img",{staticClass:"w-full absolute",attrs:{src:e(300)}}),t._v(" "),t.details.heroImage?o("img",{staticClass:"w-full absolute z-10",attrs:{src:t.details.heroImage}}):t._e(),t._v(" "),o("p",{attrs:{id:"card-title"}},[t._v("\n          "+t._s(t.details.title)+"\n        ")])]),t._v(" "),o("div",{attrs:{id:"location-detail-card-content-info"}},[o("nuxt-content",{attrs:{document:t.details}})],1),t._v(" "),t._m(0)])])])}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"w-full text-white text-lg"},[e("p",[e("span",{staticClass:"mx-3"},[t._v("<")]),t._v("渊下宫")])])}],!1,null,"41468c51",null);n.default=component.exports},309:function(t,n,e){var map={"./btn_switch_dragonspine.png":310,"./btn_switch_dragonspine_active.png":311,"./btn_switch_enkanomiya.png":312,"./btn_switch_enkanomiya_active.png":313,"./btn_switch_inazuma.png":314,"./btn_switch_inazuma_active.png":315,"./btn_switch_liyue.png":316,"./btn_switch_liyue_active.png":317,"./btn_switch_mondstadt.png":318,"./btn_switch_mondstadt_active.png":319};function o(t){var n=r(t);return e(n)}function r(t){if(!e.o(map,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=r,t.exports=o,o.id=309},310:function(t,n,e){t.exports=e.p+"img/btn_switch_dragonspine.11dfee2.png"},311:function(t,n,e){t.exports=e.p+"img/btn_switch_dragonspine_active.ba1f74a.png"},312:function(t,n,e){t.exports=e.p+"img/btn_switch_enkanomiya.7b54aef.png"},313:function(t,n,e){t.exports=e.p+"img/btn_switch_enkanomiya_active.e026f14.png"},314:function(t,n,e){t.exports=e.p+"img/btn_switch_inazuma.f4b0d94.png"},315:function(t,n,e){t.exports=e.p+"img/btn_switch_inazuma_active.c0170d5.png"},316:function(t,n,e){t.exports=e.p+"img/btn_switch_liyue.590d8c1.png"},317:function(t,n,e){t.exports=e.p+"img/btn_switch_liyue_active.2653233.png"},318:function(t,n,e){t.exports=e.p+"img/btn_switch_mondstadt.1d77c1d.png"},319:function(t,n,e){t.exports=e.p+"img/btn_switch_mondstadt_active.0c195e7.png"},320:function(t,n,e){"use strict";e(306)},321:function(t,n,e){var o=e(53),r=e(142),c=e(322),l=e(323),d=e(324),m=e(325),f=o((function(i){return i[1]})),h=r(c),v=r(l),_=r(d),x=r(m);f.push([t.i,'/*purgecss start ignore*/\n#map-wrap[data-v-747b17d0]{\n  height:91vh\n}\n#location-detail-wrapper[data-v-747b17d0]{\n  position:relative;\n  margin:0px\n}\n.nav-wrapper[data-v-747b17d0]{\n  margin:0px;\n  font-family:"HYWenHei",sans-serif\n}\n#other-buttons button[data-v-747b17d0]{\n  height:36px;\n  width:36px\n}\n.location-btn img[data-v-747b17d0]{\n  width:60px;\n  height:60px\n}\n.sideNav[data-v-747b17d0]{\n  display:flex;\n  flex-direction:column;\n  background-color:rgba(66,101,136,.5)\n}\n#qr_code[data-v-747b17d0]{\n  background:url('+h+") no-repeat\n}\n#qr_code[data-v-747b17d0]:hover{\n  background:url("+v+") no-repeat\n}\n#share[data-v-747b17d0]{\n  background:url("+_+") no-repeat\n}\n#share[data-v-747b17d0]:hover{\n  background:url("+x+") no-repeat\n}\n\n/*purgecss end ignore*/",""]),f.locals={},t.exports=f},322:function(t,n,e){t.exports=e.p+"img/btn_qrcode.74f166f.png"},323:function(t,n,e){t.exports=e.p+"img/btn_qrcode_active.8deda8b.png"},324:function(t,n,e){t.exports=e.p+"img/btn_share.4d1402c.png"},325:function(t,n,e){t.exports=e.p+"img/btn_share_active.7c6c526.png"},342:function(t,n,e){"use strict";e.r(n);e(44),e(12),e(43),e(28),e(27),e(33),e(45),e(46),e(29);var o=e(9),r=(e(69),e(26),e(47),e(1));function c(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){d=!0,r=t},f:function(){try{c||null==e.return||e.return()}finally{if(d)throw r}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,e=new Array(n);i<n;i++)e[i]=t[i];return e}var d=[3568,6286],m=[30720,30720],f=r.a.extend({name:"IndexPage",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.$content,n.next=3,e("gen/markers").fetch();case 3:return o=n.sent,n.next=6,e("marker/SunfireGate").fetch();case 6:return r=n.sent,n.abrupt("return",{markers:o.markers,markerData:r});case 8:case"end":return n.stop()}}),n)})))()},data:function(){return{maxBounds:null,mapCRS:null,tileLayer:null,mapReady:!1,mapObject:null,posX:0,posY:0,regions:[{id:"mondstadt",name:"蒙德",latlng:[1700,-3800]},{id:"liyue",name:"璃月",latlng:[0,0]},{id:"inazuma",name:"稻妻",latlng:[6500,3600]},{id:"dragonspine",name:"龙脊雪山",latlng:[1600,-2200]},{id:"enkanomiya",name:"渊下宫",latlng:[-1e3,-4700]}],currentRegion:"mondstadt",currentRegionName:"蒙德",subRegionName:"西风教堂",markerData:{title:"",body:[]},enkanomiyaLayer:null}},watch:{currentRegion:function(t,n){var e,o;"enkanomiya"===n&&"enkanomiya"!==t?(null===(e=this.enkanomiyaLayer)||void 0===e||e.removeFrom(this.mapObject),this.tileLayer.addTo(this.mapObject)):"enkanomiya"!==n&&"enkanomiya"===t&&(this.tileLayer.removeFrom(this.mapObject),null===(o=this.enkanomiyaLayer)||void 0===o||o.addTo(this.mapObject),this.mapObject.setMinZoom(-5),this.mapObject.setMaxZoom(-2),this.mapObject.setZoom(-5))}},mounted:function(){var t=this;this.maxBounds=this.$L.latLngBounds(this.$L.latLng(-d[0]-1e4,-d[1]-1e4),this.$L.latLng(m[0]-d[0]+1e4,m[1]-d[1]+1e4)),this.mapCRS=this.$L.Util.extend({},this.$L.CRS.Simple,{transformation:new this.$L.Transformation(1,0,1,0),projection:{project:function(n){return new t.$L.Point(n.lat+d[0],n.lng+d[1])},unproject:function(n){return new t.$L.LatLng(n.x-d[0],n.y-d[1])}},bounds:this.$L.bounds(this.$L.point(0,0),this.$L.point(m[0],m[1]))});var n=this.$L.TileLayer.extend({getTileUrl:function(t){var n=[t.x,t.y,t.z+15],e=n[0],o=n[1];return"https://cdn.jsdelivr.net/gh/TeyvatLore/MapTile@gh-pages/teyvat/".concat(n[2],"/").concat(e,"_").concat(o,".jpg")},reuseTiles:!0});this.tileLayer=new n("",{maxZoom:10,minZoom:-8,maxNativeZoom:0,minNativeZoom:-8,bounds:this.$L.latLngBounds(this.$L.latLng(-d[0],-d[1]),this.$L.latLng(m[0]-d[0],m[1]-d[1]))}),this.enkanomiyaLayer=new this.$L.TileLayer("",{maxNativeZoom:-2,minNativeZoom:-5,maxZoom:-2,minZoom:-5,bounds:this.$L.latLngBounds(this.$L.latLng(-d[0],-d[1]),this.$L.latLng(m[0]-d[0],m[1]-d[1]))}),this.enkanomiyaLayer.getTileUrl=function(t){var n=[t.x,t.y,t.z+15],e=n[0],o=n[1];return"https://cdn.jsdelivr.net/gh/TeyvatLore/MapTile@gh-pages/enkanomiya/".concat(n[2],"/").concat(o,"_").concat(e,".png")},this.mapReady=!0,this.$nextTick((function(){var n=t.$refs.mapi.mapObject;n.addLayer(t.tileLayer);var e,o=c(t.markers);try{for(o.s();!(e=o.n()).done;){var r=e.value;t.$L.marker(r.pos,{title:r.name}).addTo(n)}}catch(t){o.e(t)}finally{o.f()}n.on("mousemove",(function(n){t.posX=n.latlng.lat,t.posY=n.latlng.lng})),t.mapObject=n}))},methods:{getRegionButtonImage:function(t){var n=t===this.currentRegion?"_active":"";return e(309)("./btn_switch_".concat(t).concat(n,".png"))},selectRegion:function(t){var n=t.id,e=t.name,o=t.latlng;this.currentRegion=n,this.currentRegionName=e,this.mapObject.setView(o,-1)}}}),h=(e(320),e(39)),component=Object(h.a)(f,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"map-wrap"}},[e("client-only",[t.mapReady?e("l-map",{ref:"mapi",attrs:{zoom:-3,center:[2576,1742],"zoom-delta":0,"zoom-snap":.5,"max-zoom":2,"min-zoom":-4,"max-bounds":t.maxBounds,crs:t.mapCRS,options:{zoomControl:!1}}},[e("l-control",{attrs:{id:"location-detail-wrapper",position:"topright"}},[e("LocationDetailsCard",{attrs:{details:t.markerData}})],1),t._v(" "),e("l-control",{staticClass:"nav-wrapper shadow-md",staticStyle:{"margin-top":"0"},attrs:{position:"topleft"}},[e("div",{staticClass:"flex text-white"},[e("div",{staticClass:"flex bg-gradient-to-r from-gray-700 w-screen h-12 items-center"},[e("div",{staticClass:"flex flex-col justify-end ml-8 text-yellow-200 text-lg"},[t._v("\n              "+t._s(t.currentRegionName)+" > "+t._s(t.subRegionName)+"\n            ")])])])]),t._v(" "),e("l-control",{staticClass:"nav-wrapper",attrs:{position:"topleft"}},[e("div",{staticClass:"flex flex-col justify-between"},[e("div",{staticClass:"flex flex-col location-btn"},t._l(t.regions,(function(n){return e("button",{key:n.id,on:{click:function(e){return t.selectRegion(n)}}},[e("img",{attrs:{name:"r.name",src:t.getRegionButtonImage(n.id)}})])})),0)])]),t._v(" "),e("l-control",{staticClass:"nav-wrapper",attrs:{id:"other-buttons",position:"bottomleft"}},[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex flex-col"},[e("button",{attrs:{id:"qr_code"}}),t._v(" "),e("button",{attrs:{id:"share"}})]),t._v(" "),e("div",{staticClass:"flex items-end"},[e("p",{staticClass:"text-white"},[e("b",[t._v("Pos:")]),t._v("\n              "+t._s(t.posX)+" "+t._s(t.posY)+"\n            ")])])])])],1):t._e()],1)],1)}),[],!1,null,"747b17d0",null);n.default=component.exports;installComponents(component,{LocationDetailsCard:e(308).default})}}]);